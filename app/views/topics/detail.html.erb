<div class="detail-wrapper">
  <div class="container">
    <div class="row">
      <div class="col-md-6 col-md-offset-3">
        by
        <% if !logged_in? || logged_in? && @topic.user != current_user %>
        　<%= link_to @topic.user.name, users_path(id: @topic.user) %>
        <% else %>
        　Myself
        <% end %>
        　|　いいね！ <span id="good_count_<%= @topic.id %>"><%= @topic.counter.good_count %></span>　|　マイナー！ <span id="minor_count_<%= @topic.id %>"><%= @topic.counter.minor_count %></span>
      </div>
      <% if @topic.user == current_user %>
        <%= link_to '投稿を編集する', edit_topic_path(id: @topic.id), class: 'btn btn-default' %>
      <% end %>
      <% if logged_in? && @topic.user != current_user %>
        <div class="col-md-6 col-md-offset-3">
          <span id="good_<%= @topic.id %>">
            <%= render partial: "topics/good", locals: {topic: @topic} %>
          </span>
          <span id="minor_<%= @topic.id %>">
            <%= render partial: "topics/minor", locals: {topic: @topic} %>
          </span>
          <span id="bookmark_<%= @topic.id %>">
            <%= render partial: "topics/bookmark", locals: {topic: @topic} %>
          </span>
        </div>
      <% end %>
      <div class="col-md-6 col-md-offset-3">
        <%= @topic.title %>
      </div>
      <div class="col-md-6 col-md-offset-3">
        <%= image_tag @topic.image.url, class: 'img-responsive' %>
      </div>
      <div class="col-md-6 col-md-offset-3">
        <%= @topic.description %>
      </div>
      <div class="col-md-6 col-md-offset-3">
        <h2>コメント<%= @topic.counter.comment_count %>件</h2>
      </div>
      <% if logged_in? %>
        <div class="col-md-6 col-md-offset-3">
          <%= form_for @comment, url: comments_path do |f| %>
            <%= hidden_field_tag :topic_id, @topic.id %>
            <%= f.hidden_field :topic_id, :value => @topic.id %>
            <%= f.text_field :text, id: "comment-form" %>
            <%= f.submit 'コメントする' %>
          <% end %>
        </div>
      <% end %>
      <div id="comments" class="col-md-6 col-md-offset-3 pages">
        <%= render partial: "topics/comment" %>
        <%= paginate @comments %>
      <div>
    </div>
  </div>
</div>
